<div class="container">
  <h1>Eggspert</h1>

  <div class="button-group">
    <button (click)="toggleSelection('sizes')">Storlek</button>
    <button (click)="toggleSelection('consistency')">Konsistens</button>
    <button (click)="toggleSelection('temperature')">Äggtemperatur</button>
  </div>

  <div *ngIf="selectedCategory === 'sizes'" class="options">
    <button *ngFor="let size of sizes" (click)="selectEggOption('sizes', size)">{{ size }}</button>
  </div>

  <div *ngIf="selectedCategory === 'consistency'" class="options">
    <button *ngFor="let consistency of consistencies" (click)="selectEggOption('consistency', consistency)">
      {{ consistency }}
    </button>
  </div>

  <div *ngIf="selectedCategory === 'temperature'" class="options">
    <button *ngFor="let temp of temperatures" (click)="selectEggOption('temperature', temp)">
      {{ temp }}
    </button>
  </div>

  <div class="egg-count">
    <label for="eggCount">Antal ägg:</label>
    <!-- ÄNDRING: Lägg till change-hanterare -->
    <input 
      type="number" 
      id="eggCount" 
      [(ngModel)]="eggCount" 
      min="1" 
      max="10" 
      (change)="onEggCountChange()"
    />
  </div>

  <p>{{ statusMessage() }}</p>

<!-- Uppdaterad del av template -->
<div class="yolk-container">
  <div class="yolk-progress" 
     [style.--progress]="(1 - (timeLeft() / targetTime)) * 100">
    <div class="yolk-mask"></div>
  </div>
  <img class="egg" src="/pictures/eggWithoutYolk.png" />
</div>

  <div class="buttons">
    <button
      (click)="toggleTimer()"
      [class.btn-pause]="timerisRunning"
      class="btn-start"
    >
      {{ timerisRunning ? "Pausa" : "Starta" }}
    </button>
    <button (click)="resetTimer()" class="btn-reset">Återställ</button>
  </div>

  <p>{{ formatTime(timeLeft()) }}</p>
</div>